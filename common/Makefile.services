include ../common/Makedefs

services: $(SERVICE_DIR) \
          $(SERVICE_DIR)/exampleservice \
          $(SERVICE_DIR)/olt \
	  $(SERVICE_DIR)/vsg \
          $(SERVICE_DIR)/vtn \
	  $(SERVICE_DIR)/vrouter \
	  $(SERVICE_DIR)/vtr \
	  $(SERVICE_DIR)/onos-service \
	  $(SERVICE_DIR)/fabric

monitoring_services: $(SERVICE_DIR)/monitoring

xos_core: $(XOS_DIR)

$(SERVICE_DIR):
	mkdir -p $(SERVICE_DIR)

$(SERVICE_DIR)/exampleservice:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/exampleservice.git -b cord-1.0

$(SERVICE_DIR)/olt:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/olt.git -b cord-1.0

$(SERVICE_DIR)/vsg:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/vsg.git -b cord-1.0

$(SERVICE_DIR)/vtn:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/vtn.git -b cord-1.0

$(SERVICE_DIR)/vrouter:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/vrouter.git -b cord-1.0

$(SERVICE_DIR)/vtr:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/vtr.git -b cord-1.0

$(SERVICE_DIR)/onos-service:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/onos-service.git -b cord-1.0

$(SERVICE_DIR)/fabric:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/fabric.git -b cord-1.0

$(SERVICE_DIR)/monitoring:
	git -C $(SERVICE_DIR) clone https://gerrit.opencord.org/p/monitoring.git -b cord-1.0

cleanup:
	rm -rf $(SERVICE_DIR)/*

update:
	git -C $(SERVICE_DIR)/exampleservice pull
	git -C $(SERVICE_DIR)/olt pull
	git -C $(SERVICE_DIR)/vsg pull
	git -C $(SERVICE_DIR)/vtn pull
	git -C $(SERVICE_DIR)/vrouter pull
	git -C $(SERVICE_DIR)/vtr pull
	git -C $(SERVICE_DIR)/onos-service pull
	git -C $(SERVICE_DIR)/fabric pull

$(XOS_DIR):
	git -C ../.. clone https://github.com/vpramo/xos.git

update_xos:
	git -C $(XOS_DIR) pull
